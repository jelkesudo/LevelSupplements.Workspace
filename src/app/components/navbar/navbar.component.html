<div class="wrapper-nav">
  <!-- <div class="w-100 black-banner">
    <p>level up your fitness</p>
  </div>
  <div class="rose-banner">
    <p>"Premium suplementacija koja podiže tvoj nivo na viši Level"</p>
  </div> -->
  <div class="w-100 bg-white">
    <div class="utility-banner bg-white">
      
    </div>
  </div>
  <nav class="main-nav">
    <div class="nav-container">
      <div class="first-part">
        <div class="menu-toggle" (click)="toggleSideMenu()">
          ☰
        </div>
    
        <div class="logo ms-md-0 ms-2">
          <a routerLink="/"><img src="images/LevelSuplementiLogo.png" alt="LevelSuplementiLogo" /></a>
        </div>
    
        <ul class="nav-links ms-3">
          <li><a [routerLink]="'/proizvodi'" [queryParams]="{ category: 'Proteini' }">Proteini</a></li>
          <li><a [routerLink]="'/proizvodi'" [queryParams]="{ category: 'Kreatin' }">Kreatin</a></li>
          <li><a [routerLink]="'/proizvodi'" [queryParams]="{ category: 'PreWorkout' }">Pre-Workout</a></li>
          <li><a [routerLink]="'/proizvodi'" [queryParams]="{ category: 'PostWorkout' }">Post-Workout</a></li>
          <li><a [routerLink]="'/proizvodi'" [queryParams]="{ category: 'Aminokiseline' }">Aminokiseline</a></li>
          <li><a [routerLink]="'/proizvodi'" [queryParams]="{ category: 'SagorevaciMasti' }">Sagorevači masti</a></li>
          <li><a [routerLink]="'/proizvodi'" [queryParams]="{ category: 'Zdravlje' }">Zdravlje</a></li>
          <li><a [routerLink]="'/o-nama'">O Nama</a></li>
          <li><a [routerLink]="'/kontakt'">Kontakt</a></li>
        </ul>
      </div>
      <div class="second-part text-purple">
        <i class="fa-solid fa-magnifying-glass search-button me-2" (click)="toggleSearchBar($event)"></i>
        <div class="search-bar" *ngIf="showSearchBar">
          <input class="me-2" type="text" placeholder="Pretražite..." />
        </div>
        <div class="utility-panel">
          <ul>
            <ng-container *ngIf="isLoggedIn$ | async; else loggedOut">
            <i (click)="toggleMenu($event)" class="fa-regular fa-user cursor-pointer"></i>
            <app-dropdown-menu
              [items]="menuItems"
              [top]="popupTop"
              [left]="popupLeft"
              [visible]="menuOpen"
              (closed)="menuOpen = false">
            </app-dropdown-menu>
          </ng-container>

          <ng-template #loggedOut>
            <span class="cursor-pointer" (click)="onLoginClick()">Login</span>
          </ng-template>
            <li><i class="fa-solid fa-cart-shopping" (click)="toggleCart()"></i></li>
          </ul>
        </div>
      </div>
    </div>
  
    <div class="side-menu" [ngClass]="{ 'open': isSideMenuOpen }">
      <div class="close-btn" (click)="closeSideMenu()">✕</div>
      <ul>
        <li><a routerLink="/" (click)="closeSideMenu()">Pocetna</a></li>
        <li><a routerLink="/proizvodi" (click)="closeSideMenu()">Shop</a></li>
        <li><a routerLink="/kontakt" (click)="closeSideMenu()">Kontakt</a></li>
      </ul>
    </div>
  
    <div
      class="overlay-blur"
      *ngIf="isSideMenuOpen"
      (click)="closeSideMenu()"
    ></div>
  </nav>
</div>
